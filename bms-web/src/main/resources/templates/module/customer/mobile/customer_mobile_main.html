<div class="panel panel-default">
    <div class="panel-heading">
        <h4 class="panel-title">
            <a data-toggle="collapse" data-parent="#accordion"
               href="#collapseTwo">
                查询条件
            </a>
        </h4>
    </div>
    <div id="collapseTwo" class="panel-collapse collapse in">
        <div class="panel-body">
            <div class="container" style="width: 100%;">
                <form class="form-horizontal" id="cmmg_customer_mobile_searchFormId">
                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group">
                                <label class="control-label col-md-4">注册时间&nbsp;:</label>
                                <div class="col-md-4" style="padding-left: 0px;padding-right: 0px;">
                                    <input name="registerBeginDate" size="16" type="text" readonly
                                           class="form_datetime form-control">
                                </div>
                                <div class="col-md-4"
                                     style="padding-left: 1px;padding-right: 0px;">
                                    <input name="registerEndDate" size="16" type="text"
                                           class="form_datetime form-control"
                                           readonly>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-4">
                            <div class="form-group">
                                <label class="control-label col-md-4">处理时间&nbsp;:</label>
                                <div class="col-md-4" style="padding-left: 0px;padding-right: 0px;">
                                    <input name="handleBeginDate" type="text" readonly
                                           class="form_datetime form-control">
                                </div>
                                <div class="col-md-4"
                                     style="padding-left: 1px;padding-right: 0px;">
                                    <input name="handleEndDate" type="text"
                                           class="form_datetime form-control"
                                           readonly>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label class="control-label col-md-4">分配时间&nbsp;:</label>
                                <div class="col-md-4" style="padding-left: 0px;padding-right: 0px;">
                                    <input name="distributionBeginDate" size="16" type="text" readonly
                                           class="form_datetime form-control">
                                </div>
                                <div class="col-md-4"
                                     style="padding-left: 1px;padding-right: 0px;">
                                    <input name="distributionEndDate" size="16" type="text"
                                           class="form_datetime form-control"
                                           readonly>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-group">
                                <label class="control-label col-md-6">客户生日&nbsp;:</label>
                                <div class="col-md-6" style="padding-left: 0px;padding-right: 0px;">
                                    <input name="customerBirthday" size="16" type="text" readonly
                                           class="form_datetime form-control">
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-group">
                                <label class="control-label col-md-6">客户ID&nbsp;:</label>
                                <div class="col-md-6" style="padding-left: 1px;padding-right: 0px;">
                                    <input name="userID" type="text" class="form-control"></div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-group">
                                <label class="control-label col-md-6">客户姓名&nbsp;:</label>
                                <div class="col-md-6" style="padding-left: 1px;padding-right: 0px;">
                                    <input type="text" name="customerName" class="form-control"></div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-group">
                                <label class="control-label col-md-6">用户名&nbsp;:</label>
                                <div class="col-md-6" style="padding-left: 1px;padding-right: 0px;">
                                    <input type="text" name="userName" class="form-control"></div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-group">
                                <label class="control-label col-md-6">内部员工&nbsp;:</label>
                                <div class="col-md-6" style="padding-left: 1px;padding-right: 0px;">
                                    <select id="cmmg_customer_mobile_employee_selector" code="IS_INNER_EMPLOYEE"
                                            name="innerEmployee" style="font-size: .8em;" class="form-control">
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-group">
                                <label class="control-label col-md-6">推荐人&nbsp;:</label>
                                <div class="col-md-6" style="padding-left: 1px;padding-right: 0px;">
                                    <input type="text" name="referee" class="form-control"></div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-group">
                                <label class="control-label col-md-6">电话号码&nbsp;:</label>
                                <div class="col-md-6" style="padding-left: 1px;padding-right: 0px;">
                                    <input type="text" name="mobile" class="form-control"></div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-group">
                                <label class="control-label col-md-6">客户等级&nbsp;:</label>
                                <div class="col-md-6" style="padding-left: 1px;padding-right: 0px;">
                                    <select name="customerGrade" id="cmmg_customer_mobile_grade_selector"
                                            code="IS_INNER_EMPLOYEE"
                                            style="font-size: .8em;" class="form-control">
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label class="control-label col-md-4">VIP等级&nbsp;:</label>
                                <div class="col-md-3" style="padding-left: 1px;padding-right: 0px;">
                                    <input type="text" name="minVipGrade" class="form-control"></div>
                                <div class="col-md-2" style="padding-right: 0px;padding-left:0px;text-align: center;">
                                    --
                                </div>
                                <div class="col-md-3" style="padding-left: 1px;padding-right: 0px;">
                                    <input type="text" name="maxVipGrade" class="form-control"></div>
                            </div>
                        </div>

                        <div class="col-md-4">
                            <div class="form-group">
                                <label class="control-label col-md-4">余额&nbsp;:</label>
                                <div class="col-md-3" style="padding-left: 1px;padding-right: 0px;">
                                    <input type="text" name="minBalance" class="form-control"></div>
                                <div class="col-md-2" style="padding-right: 0px;padding-left:0px;text-align: center;">
                                    --
                                </div>
                                <div class="col-md-3" style="padding-left: 1px;padding-right: 0px;">
                                    <input type="text" name="maxBalance" class="form-control"></div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label class="control-label col-md-4">持有金额&nbsp;:</label>
                                <div class="col-md-3" style="padding-left: 1px;padding-right: 0px;">
                                    <input type="text" name="minHaveBalance" class="form-control"></div>
                                <div class="col-md-2" style="padding-right: 0px;padding-left:0px;text-align: center;">
                                    --
                                </div>
                                <div class="col-md-3" style="padding-left: 1px;padding-right: 0px;">
                                    <input type="text" name="maxHaveBalance" class="form-control"></div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-group">
                                <label class="control-label col-md-6">朋友&nbsp;:</label>
                                <div class="col-md-6" style="padding-left: 1px;padding-right: 0px;">
                                    <select name="caimiFriends" style="font-size: .8em;" class="form-control">
                                        <option value="">全部</option>
                                        <option value="1">是</option>
                                        <option value="0">否</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-group">
                                <label class="control-label col-md-6">注册渠道&nbsp;:</label>
                                <div class="col-md-6" style="padding-left: 1px;padding-right: 0px;">
                                    <input type="text" name="channelName" class="form-control"></div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <a id="cmmg_customer_mobile_searchBtn" class="btn btn-circle green btn-outline sbold">
                                <i class="fa fa-search"></i> 搜索 </a>
                            <a onclick="CommonUtils.reset('cmmg_customer_mobile_searchFormId')"
                               class="btn btn-circle green btn-outline sbold">
                                <i class="fa fa-print"></i> 重置 </a>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<script>

    function customerIDClick(user, userName) {
        var userNo = $(user).html();
        var t = "客户";
        if (userName && userName !== 'null') {
            t = t + "<span style='font-weight: bolder;color: #27a4b0;'>【" + userName + "】</span>"
        }

        $.addtabs.add({
            'id': userNo,
            'title': t,
//            'content': userNo,
            'url': CM_Components.getContextAll("/customer/mobile/detail?userNo=" + userNo),
            'ajax': true
        });
    }

    function cellFormat(val, record, index) {

        return '<a onclick="customerIDClick(this,\'' + record.userName + '\')" title="点击查看客户详情">' + val + '</a>';
    }

</script>
<table class="table table-striped table-bordered table-hover" data-form="cmmg_customer_mobile_searchFormId"
       id="cmmg_customer_mobile_Table">
    <thead>
    <tr>
        <th data-field="userNo" data-formatter="cellFormat">客户ID</th>
        <!--<th data-sortable="true"   data-field="amount">投资人ID</th>-->
        <th data-field="userName">客户姓名</th>
        <th data-sortable="true" data-field="customerBirthday">生日</th>
        <th data-field="referee">推荐人</th>
        <th data-field="refereeChannel">推荐渠道</th>
        <th data-sortable="true" data-field="registerDate">注册时间</th>
        <th data-sortable="true" data-field="distributionDate">分配时间</th>
        <th data-sortable="true" data-field="recentContactDate">最近联系时间</th>
        <th data-sortable="true" data-field="visitDate">预约回访时间</th>
        <!--<th data-sortable="true"   data-field="amount">标签</th>
        <th data-sortable="true"   data-field="amount">分值</th>-->
        <th data-sortable="true" data-field="balance">余额(元)</th>
        <th data-sortable="true" data-field="haveBalance">持有金额</th>
        <th data-sortable="true" data-field="caimiFriends">朋友</th>
        <th data-sortable="true" data-field="channelName">注册渠道</th>
    </tr>
    </thead>
    <tbody>
    </tbody>
</table>

<script th:src="@{/assets/module/customer/mobile/customer_mobile.js}" type="text/javascript"></script>
<script type="text/javascript">
    jQuery(document).ready(function () {
        CMMG_CUTOMER_MOBILE.initPage();
        CM_Components.dictDataBinding(["cmmg_customer_mobile_employee_selector", "cmmg_customer_mobile_grade_selector"]);
    });
    $(".form_datetime").datetimepicker({
        format: 'yyyy-mm-dd',
        language: 'zh-CN',
        /*showCurrentDate:true,*/
        autoclose: true,
        minView: 2
    });

</script>